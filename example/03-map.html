<script src="../simpletest.js"></script>
<script>
/* Array.prototype.map method to test */
  function map (myArray, callback, optionalObject) {
    var mapCallback = callback;

    if (optionalObject) {
      mapCallback = callback.bind(optionalObject);
    }

    for (var i = 0; i < myArray.length; i++) {
      mapCallback(myArray[i], i, myArray);
    }
  }

  SimpleTest.runTests({
    '01 - It should run the callback function array.length times.':
    function () {
      var numberOfTimeCallbackHasRun = 0;

      map([1, 2], function () {
        numberOfTimeCallbackHasRun++;
      });

      eq(numberOfTimeCallbackHasRun, 2);
    },
    '02 - It should pass in the ith element as the first argument to the callback.':
    function () {
      map([8], function (element) {
        eq(element, 8);
      });
    },
    '03 - It should pass in the ith position as the second argument to the callback.':
    function () {
      map([3], function (element, index) {
        eq(index, 0);
      });
    },
    '04 - It should pass in the original array as the third argument to the callback.':
    function () {
      var originalArray = [1];
      map(originalArray, function (element, index, testArray) {
        eq(originalArray, testArray);
      });
    },
    '05 - It should accept an optional object, to use as "this" when executing the callback':
    function () {
      map([1], function () {
        eq(this.description, 'optional this object');
      }, {description: 'optional this object'});
    },
    '06 - It should return an array.':
    function () {
      fail();
    },
    '07 - It should return a new array, not the array being filtered.':
    function () {
      fail();
    },
    '08 - It should return a new array that only has elements that have been transformed by the callback.':
    function () {
      fail();
    }
  })
</script>