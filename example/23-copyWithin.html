<!DOCTYPE html>
<html>
  <head>
      <style>
          * {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          }
        </style>
  </head>
  <body>
      <h2>Test Drive copyWithin()</h2>
      <h3 id="stats"></h3>
      <script src="../simpletest.js"></script>
      <script>
        /* TESTS FOR Array.prototype.copyWithin */

        /* INPUT
        - signature
          arr.copyWithin(target[, start[, end]])
          target
            Zero based index at which to copy the sequence to. If negative, target will be counted from the end.
            If target is at or greater than arr.length, nothing will be copied. If target is positioned after start, the copied sequence will be trimmed to fit arr.length.
          start Optional
            Zero based index at which to start copying elements from. If negative, start will be counted from the end.
            If start is omitted, copyWithin will copy from the start (defaults to 0).
          end Optional
            Zero based index at which to end copying elements from. copyWithin copies up to but not including end. If negative, end will be counted from the end.
          If end is omitted, copyWithin will copy until the end (default to arr.length).
        */

        /* OUTPUT
        The modified array.
        */

        /* GENERIC DESCRIPTION
        The copyWithin() method shallow copies part of an array to another location in the same array and returns it, without modifying its size.
        */

        /* REQUIREMENTS
        The copyWithin works like C and C++'s memmove, and is a high-performance method to shift the data of an Array. This especially applies to the TypedArray method of the same name. The sequence is copied and pasted as one operation; pasted sequence will have the copied values even when the copy and paste region overlap.

        The copyWithin function is intentionally generic, it does not require that its this value be an Array object.

        The copyWithin method is a mutable method. It does not alter the length of this, but will change its content and create new properties if necessary.

        */

        function copyWithin (array) {

          // no arguments passed in
          if (arguments.length === 0) {
            throw new TypeError('undefined is not an array');
          }

          // first argument is not an array 
          if (Array.isArray(arguments[0]) === false) {
            throw new TypeError('value ' + JSON.stringify(arguments[0]) + ', of type ' + typeof arguments[0] + ', is not an array');
          }

          /*
           CORE LOGIC
           */
        }

        /* TESTS */
        SimpleTest.runTests({
          '01 - If no argument is passed to copyWithin(), throw a TypeError.': 
          function () {
            fail();
            var isTypeError = false;
            try {
              copyWithin();
            } catch (e) {
            isTypeError = e instanceof TypeError;
            };
            eq(isTypeError, true);
          },
          '02 - If the first argument passed to copyWithin() is not an array, throw a TypeError.': function () {
            fail();
            var isTypeError = false;
            try {
              copyWithin(1);
            } catch (e) {
              isTypeError = e instanceof TypeError;
            };
            eq(isTypeError, true);
          },
        });
      </script>
  </body>
</html>
